#+AUTHOR: Sturm Mabie
#+CATEGORY:Posts
#+DATE:2020-07-07
#+MATHJAX:true
#+STARTUP:showeverything
#+TITLE:The True Value of Alpha

The asset management industry has been shaken up in the last decade
with the rise of passive investing through index funds and ETFs. While
in the day of yore most retail investors held actively managed mutual
funds, their popularity today is waning with more than half of the
total capital in the US allocated towards low-cost indexed
vehicles. Indeed, while retirees and Baby Boomers still hold shares of
active mutual funds, the common advice for younger generations is to
ditch the concept of out-performance and alpha all together and merely
take what the market gives you. Some take a step even further and
loudly proclaim that the very idea of alpha is a scam, that it is
impossible to "beat" the S&P 500 consistently, and that active funds
primarily serve the purpose of cheating investors through high
fees. This misperception hasn't been helped by the many index hugging
mutual funds who deliberately try to match their benchmark all the
while charging high fees.

But what of the funds that don't hug their benchmark; are they scams
as well? Should we incorporate them into our portfolio, and if so,
what is the best way? We're going to explore all of this and more,
using the famous (or perhaps infamous?) /Ark Innovation ETF/ (ticker:
ARKK).

** ARKK

   Though an ETF, the fund is actively managed and seeks to deliver
   alpha to investors.  ARKK is famous for their risky allocations and
   aggressive investment philosophy, a definite odd-ball among the
   conservative world of mutual funds. The funds' aggressive trading,
   concentrated positions, and speculative bets are much more akin to
   the strategy of a long-only hedge fund than a staid mutual
   fund. Let's look at a graph of ARKK compared to the S&P 500,
   starting from ARKK's inception date of 10/31/2014 to today:

   #+caption:ARKK vs S&P 500
   [[file:/assets/arkk.png]]

   Well, that's interesting! ARKK seems to have delivered absolutely
   stellar returns, but with massive volatility as well. It's obvious
   their delivering good performance, but are the delivering alpha,
   what if the returns are simply leveraged beta?  Consider the table
   below:

   | Metric      |  ARKK | S&P 500 |
   |-------------+-------+---------|
   | R2          | 61.3% |   61.3% |
   | Beta        |  1.24 |       1 |
   | Ann. Vol    | 30.6% |   19.4% |
   | Ann. Ret    | 35.6% |   12.4% |
   | Ann. Sharpe |  0.99 |     0.6 |

   From both the beta, R2, and Sharpe numbers, it is clear that ARKK
   is delivering real alpha: if we leveraged up the S&P 500 to have
   the same beta by multiplying the daily return time-series by 1.24,
   the return still wouldn't come close to ARKK's. And even though it
   seems like ARKK is taking on a massive amount of risk, their Sharpe
   ratio is significantly better than that of the S&P 500. And for the
   final cherry on top, the fund's R-squared is only 61.3%, meaning
   that 39.7% of their returns cannot be explained by the movement of
   the S&P 500 and instead by trading, security or sector selection
   alpha.

   Now that we've established that ARKK is delivering real,
   honest-to-god alpha, how do we incorporate into our portfolio? For
   this post, I'm going to assume that we want to construct a
   portfolio of only two ETFs: SPY (SPDR S&P 500) and ARKK. Our goal
   is to construct a portfolio that minimizes our volatility and
   maximizes our return through the combination of the two above
   assets.

** Monte-Carlo

   The most straightforward thing we could do is try multiple values
   for our weights of ARKK and SPY, with their sum equaling one. We
   then graph these points based on their volatility and return:

   #+caption: Return vs Volatility
   [[file:/assets/ef.png]]

   The portfolio with the best return vs volatility profile is called
   the /frontier/ or /efficient/ portfolio. There exists only one such
   portfolio and it is the portfolio every rational investor should
   prefer, ignoring borrowings costs and [[https://en.wikipedia.org/wiki/Volatility_tax][volatility drag]] (for more
   information about volatility drag, check out my other post [[https://cryptm.org/posts/2019/11/28/div.html][here]]).

   While it's relatively easy to find what would have been the
   frontier portfolio looking backwards, it is much more difficult to
   estimate the frontier portfolio over some future time period. We
   can Forecast and then reduce future volatility relatively easily,
   but forecasting expected returns is a notoriously difficult
   problem. So difficult, in fact, that few quantitative investors
   even try, instead resigning themselves to solely minimize
   volatility.

   While in the general case of a many asset portfolio, no closed form
   solution can be found for the minimization of volatility, we must
   instead use an optimizer or do a Monte-Carlo simulation; but in the
   two asset case, we can find a symbolic solution.

** Symbolic Solution

   Recall that our portfolio return is going to be a function of our
   two assets and their weights:

   $$ P = x_a X_a+ x_b X_b$$

   Likewise, our expected portfolio mean would look like:

   $$\begin{align}
   E[P] &= \mu_P\\
   &= x_a E[X_a] + x_b E[X_b]\\
   &= x_a \mu_a + x_b \mu_b\\
   \end{align}$$

   Likewise, recall the equation for variance:

   $$\text{Var}[X] = \sigma^2 = E[(X-\mu)^2]$$

   Covariance is similar, except instead of squaring, we multiply each
   variable after demeaning:

   $$\text{Cov}[X,Y] = E[(X-\mu_X)(Y-\mu_Y)]$$


   Now we just need to derive the portfolio variance:

   $$\text{Var}[P] = \text{Var}[x_aX_a + x_b X_b]$$

   First we substitute for variance and rearrange:

   $$\begin{align}
   \text{Var}[x_aX_a + x_b X_b] =& E[(x_aX_a + x_b X_b - E[x_a X_a + x_b X_b])^2]\\
   =& E[(x_a X_a - E[x_a X_a] + x_b X_b - E[x_b X_b])^2]
   \end{align}$$

   Now we can pull the constants out of the expectations, substitute, and expand:

   $$\begin{align}
   \text{Var}[x_a X_a + x_b X_b] =& E[(x_a (X_a - \mu_a) + x_b (X_b - \mu_b))^2] \\
   =& E[x_a^2(X_a - \mu_a)^2 + x_b^2(X_b - \mu_b)^2 + 2 x_a x_b (X_a - \mu_a)(X_b - \mu_b)]
   \end{align}$$

   Finally, we break up the expectations, and replace:

   $$\begin{align}
   \text{Var}[x_a X_a + x_b X_b] =& x^2_a E[(X_a - \mu_a)^2] + x^2_b E[X_b - \mu_b] + 2x_a x_b E[(X_a-\mu_a)(X_b-\mu_b)]\\
   =& x^2_a \sigma_a^2 + x^2_b \sigma_b^2 + 2 x_a x_b \text{Cov}[X_a,X_b]\\
   =& x^2_a \sigma_a^2 + x^2_b \sigma_b^2 + 2 x_a x_b \rho_{ab} \sigma_a \sigma_b
   \end{align}$$

   Where $\rho_{ab}$ is the correlation between $X_a$ and $X_b$:

   $$\rho_{ab} = \frac{\text{Cov}[X_a,X_b]}{\sigma_a\sigma_b}$$

   Now that we have an equation for variance in terms of the weights,
   mean, volatility, and correlation between the two assets, we can
   formulate our objective:

   $$\min\left( \text{Var}[x_aX_a + x_b X_b]\right)$$

   Where:

   $$x_a + x_b = 1$$

   We perform the substitution $x_b = 1 - x_a$ and then take the
   derivative with respect to $x_a$:

   $$\frac{\mathrm{d} \sigma_P}{\mathrm{d}x_a}=2 \, \rho_{\mathit{ab}} \sigma_{a} \sigma_{b} - 2 \, \sigma_{b}^{2} - 2 \, {\left(2 \, \rho_{\mathit{ab}} \sigma_{a} \sigma_{b} - \sigma_{a}^{2} - \sigma_{b}^{2}\right)} x_{a}$$

   Now we set to 0 and solve for $x_a$:

   $$x_{a} = \frac{\rho_{\mathit{ab}} \sigma_{a} \sigma_{b} - \sigma_{b}^{2}}{2 \, \rho_{\mathit{ab}} \sigma_{a} \sigma_{b} - \sigma_{a}^{2} - \sigma_{b}^{2}}$$

   Note that sometimes this equation will give us values for $x_a$ and
   $x_b$ that imply leverage, i.e:

   $$|x_a| + |x_b| > 1 $$

   But we can always rescale them by dividing each one by $|x_a| + |x_b|$.

**

A retail investor would be forgiven for assuming that there are really
only two assets classes one should consider for personal investments:
equities (stocks) and fixed income (bonds). Wherever you look, these
two asset classes dominate the financial landscape. All robo-advisors
and most personal advisors implement a mix of bonds and equities for
the portfolio's of their clients. The idea behind this mix is simple:
bonds are low risk and will earn you a marginal return, while equities
are riskier and will be the real engine of returns in good times. In
bad times, bonds will rise, mitigating some of the losses of your
equity portfolio: it's been long known and accepted that stocks and
bonds have a negative correlation. Tying this strategy together is
periodic rebalancing, taking money off the table during bull markets
(and moving them to the safer bonds), and deploying money to the
equity portion during bear markets. This in effect overlays a
mean-reversion strategy to the portfolio, boosting the returns of an
otherwise static portfolio. The archetypal allocation is 60% equities,
and 40% bonds, though each investor's allocation is going to differ
based on his risk tolerance, age, and personal goals.

While there's nothing inherently wrong with this two asset class mix,
we're going to explore mixing gold, instead of bonds, with an equity
portfolio in order to explore some mathematical concepts regarding
uncorrelated assets and portfolio allocation.
